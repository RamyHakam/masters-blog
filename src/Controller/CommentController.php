<?phpnamespace App\Controller;use App\Entity\Post;use App\Service\AccountDataService;use App\Service\PostService;use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;use Symfony\Component\HttpFoundation\Request;use Symfony\Component\HttpFoundation\Response;use Symfony\Component\Routing\Annotation\Route;class CommentController extends  AbstractController{    private AccountDataService $accountDataService;    private PostService $postService;    public function __construct(AccountDataService $accountDataService,PostService  $postService)    {        $this->accountDataService = $accountDataService;        $this->postService = $postService;    }    #[Route(path: '/comment/{id}"', name: 'add_comment',methods: ['POST'])]    public function addCommentAction(Post $post, Request  $request)    {        $user =  $this->getUser();        $commentText = $request->request->get('commentText');        $commentToken = $request->request->get('comment_token');if (!$this->isCsrfTokenValid('comment_token', $commentToken))        {            return new Response('Invalid Token', Response::HTTP_BAD_REQUEST);        }       $comment =   $this->postService->commentOnPost($post, $user, $commentText);        if ($request->isXmlHttpRequest())        {            return  $this->render('wrapper_comment.html.twig',['comment' => $comment]);        }        else {            return $this->redirectToRoute('home_page');        }    }}